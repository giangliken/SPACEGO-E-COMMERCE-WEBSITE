@model IEnumerable<SPACEGO_E_COMMERCE_WEBSITE.Models.Post>

<h2 class="text-center text-primary mb-4"><i class="fas fa-newspaper"></i> Bài viết</h2>

@if (User.IsInRole("Admin"))
{
    <div class="mb-3 text-end">
        <a asp-action="Create" class="btn btn-success">
            <i class="fas fa-plus-circle"></i> Thêm bài viết
        </a>
    </div>
}

<div class="list-group">
    @foreach (var post in Model)
    {
        <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-start shadow-sm">
            <div class="ms-2 me-auto">
                <div class="fw-bold">@post.Title</div>
                <small class="text-muted">
                    Ngày đăng: @post.CreatedAt.ToString("dd/MM/yyyy")
                    |
                    Tác giả: @(post.User?.FullName ?? post.User?.UserName ?? "Không xác định")
                </small>
            </div>
            <div>
                <a asp-action="Details" asp-route-id="@post.PostId" class="btn btn-outline-primary btn-sm">Đọc tiếp</a>
            </div>
        </div>
    }
</div>
