@model IEnumerable<SPACEGO_E_COMMERCE_WEBSITE.Models.Post>

<h2 class="text-center text-primary mb-4">
    <i class="fas fa-newspaper"></i> Bài viết
</h2>

@if (User.IsInRole("Admin"))
{
    <div class="mb-3 text-end">
        <a asp-action="Create" class="btn btn-success">
            <i class="fas fa-plus-circle"></i> Thêm bài viết
        </a>
    </div>
}

<div class="row row-cols-1 g-3">
    @foreach (var post in Model)
    {
        <div class="col">
            <div class="card border shadow-sm rounded-3 p-3">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h5 class="fw-bold mb-1">@post.Title</h5>
                        <p class="text-muted small mb-0">
                            Ngày đăng: @post.CreatedAt.ToString("dd/MM/yyyy") |
                            Tác giả: @(post.User?.FullName ?? post.User?.UserName ?? "Không xác định")
                        </p>
                    </div>
                    <div class="ms-3">
                        <a asp-action="Details" asp-route-id="@post.PostId" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-book-open"></i> Đọc tiếp
                        </a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
